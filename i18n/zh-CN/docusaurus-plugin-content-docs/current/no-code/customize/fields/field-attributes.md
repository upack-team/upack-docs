---
sidebar_position: 0.5
---

# 字段属性

每个字段拥有一系列属性，这些属性定义了字段的行为和外观：

## 名称字段

名称字段的作用是在对象列表中把该字段显示为链接，点击该链接可以跳转到记录详细页面。

在Steedos中对象上默认以名为`name`的字段作为”名称字段”。可以通过在对象设置界面编辑这个字段以外的其他字段的属性，勾选其“名称字段”属性来把其他字段设置为名称字段。

如果某个对象没有配置名称字段，那么该对象列表界面的列表中第一列，即序号列里面的序号值会显示为链接，点击这个链接一样可以跳转到记录详细页面。

支持配置为”名称字段“的字段类型有：文本、多行文本、自动编号、公式、日期、日期时间，请不要将其他类型的字段配置为名称字段。

## 默认值

字段默认值只在前端生效，可以配置为固定值，也可以配置为一段公式脚本来描述希望设置的动态默认值，详情请参 [数据映射](https://aisuda.bce.baidu.com/amis/zh-CN/docs/concepts/data-mapping) 或 [Amis表达式](https://aisuda.bce.baidu.com/amis/zh-CN/docs/concepts/expression) 。

以下两种情况字段默认值不生效：

- 只读字段(readonly)：即当前用户有查看权限但是没有编辑权限的字段，包括系统内置的只读字段，除非通过配置字段权限改为可编辑字段。
- 隐藏字段(hidden)：即当前用户没有查看权限的字段，包括系统内置的隐藏字段，除非通过配置字段权限改为可编辑字段。

如果想让不可编辑字段的默认值公式生效，请把该字段配置为“只读且编辑时显示”，即static，而不是“只读”（readonly）。

### 字段显示公式

可以在高级-字段显示公式为该字段增加显示条件，条件使用 [数据映射](https://aisuda.bce.baidu.com/amis/zh-CN/docs/concepts/data-mapping) 或 [Amis表达式](https://aisuda.bce.baidu.com/amis/zh-CN/docs/concepts/expression)  定义，只有满足条件时才显示当前字段，否则隐藏该字段。

### 与关联表建立联系

以“报价(offer)”对象为例，我们可能希望描述每份报价关联客户是谁，此时我们可以新建一个“客户(client)”对象与之关联，关于如何创建业务对象关联的方法请阅览[相关表字段类型](../fields/relationship#相关表关系字段) 。

### 建立主表/子表关系

在相关表字段的基础上，可以额外设置两个对象间的主表/子表关系，比如 “报价(offer)” 中可能需要引用 ”业务机会“ 对象，字段类型设置为主表/子表，引用 “业务机会“ 对象 。使用方法和相关表一样，区别在于设置为主表/子表类型的字段可以在“相关子表”里设置关联子表显示的列。有关如何使用的详情信息请阅览[主表/子表字段类型](../fields/relationship#主表子表关系字段) 。

## 主键/外键字段

与传统项目中表结构类似，Steedos中每个对象都必须有一个主键字段来唯一标识其每条记录，默认数据源使用MongoDB作为数据库，所有对象的主键字段都是名为`_id`的字段，外部数据源可能使用关系型数据库，所以可以在对象设置中编辑字段属性，勾选其“外部数据源”栏的“主键”勾选框来把该字段设置为主键字段。

上面我们有提到“相关表”和“主表/子表”两种特殊的字段类型，通过这两种字段类型的字段可以把两个对象关联起来，所以它们也被称为外键字段，需要注意的是这个外键字段是配置在子表对象一侧的，其字段值保存的是其引用对象的主键字段值。

比如联系人对象上有一个名为“所属客户”（`account`）的“主表/子表”字段，该字段引用的是一个名为“业务伙伴”（`accounts`）的对象，假设有一条联系人记录“张三”，其“所属客户”是“中国石油”，那么“张三”这条记录中会在其“所属客户“字段中保存“中国石油”这个“业务伙伴”记录的主键字段值，即`_id`字段值。

## 字段索引

字段上有一个名为“创建索引 index”的勾选框属性，勾选该属性后系统会在创建索引的定时程序中为该字段创建索引，默认是每小时检测一次未创建索引的字段并为其创建好索引。

适当地为对象上的字段创建索引是非常必要的，它可以极大的提升相关记录的查询速度，在公式字段、累计汇总、数据导入等功能中也能明显受益。

## Amis 属性

当Steedos字段类型及配置属性无法满足业务字段要求时，可以通过字段的Amis属性来实现这些需求。

### 使用 amis 控件替换标准控件

创建一个文本字段，并配置 amis 属性如下，数据控件会替换为 amis 颜色选择器。

```json
{
  "type": "input-color"
}
```


